<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Gracias ‚Äî ObraTitan</title>
  <link rel="stylesheet" href="assets/styles.css" />
  <style>
    .wrap { text-align:center; padding: clamp(36px,5vw,64px) 24px; max-width:760px; margin: 8vh auto }
    .hero-check{ width:72px; height:72px; border-radius:999px; background: var(--amber); color:#111;
      display:flex; align-items:center; justify-content:center; margin:0 auto 12px; box-shadow: var(--shadow-sm);
      font-weight:900; font-size:28px }
    .cta-col { display:flex; gap:12px; flex-wrap:wrap; justify-content:center; margin-top:16px }
    .muted { color: var(--muted) }
    .note { font-size: var(--fs-sm); color: var(--muted-2); margin-top:10px }
    .pill { background: rgba(227,160,8,.15); color:#f5d278; border:1px solid var(--amber);
            padding:4px 8px; border-radius:999px; font-size: var(--fs-sm); font-weight:800 }
  </style>
</head>
<body>
  <div class="decor decor-1"></div>
  <div class="decor decor-2"></div>
  <div class="decor decor-3"></div>

  <main class="container">
    <div class="wrap card">
      <div class="hero-check">‚úî</div>
      <h2 style="margin:.25em 0 6px">¬°Gracias por tu compra! üéâ</h2>

      <p id="plan-pill" class="pill" style="display:none; margin:0 auto 6px"></p>

      <p class="muted" style="max-width:60ch; margin:0 auto">
        Tu pago y registro fueron confirmados. Puedes <strong>entrar a la app</strong> ahora mismo.
      </p>

      <div class="cta-col">
        <a id="enter-btn" class="btn" href="https://obratitanhuntrix.netlify.app/">Entrar a la app</a>
        <button id="copy-btn" class="btn-outline" type="button">Copiar enlace</button>
      </div>

      <p class="note">Te redirigiremos en <span id="sec">6</span> segundos‚Ä¶</p>
      <div style="margin-top:10px"><a href="/">‚Üê Volver al inicio</a></div>
    </div>
  </main>

  <script>
    const APP_URL = 'https://obratitanhuntrix.netlify.app/';
    const qs = new URLSearchParams(location.search);
    const plan = (qs.get('plan') || '').toLowerCase();
    const pill = document.getElementById('plan-pill');
    if (plan === 'basic' || plan === 'pro') {
      pill.textContent = `Plan ${plan.toUpperCase()} activado`;
      pill.style.display = 'inline-block';
    }

    document.getElementById('copy-btn').addEventListener('click', async () => {
      try {
        await navigator.clipboard.writeText(APP_URL);
        const btn = document.getElementById('copy-btn');
        const old = btn.textContent; btn.textContent = '¬°Enlace copiado!';
        setTimeout(() => btn.textContent = old, 1200);
      } catch { alert('No se pudo copiar. Usa "Entrar a la app".'); }
    });

    let seconds = 6; const secEl = document.getElementById('sec');
    const tick = setInterval(() => {
      seconds -= 1; secEl.textContent = String(seconds);
      if (seconds <= 0) { clearInterval(tick); location.href = APP_URL; }
    }, 1000);
    document.getElementById('enter-btn').addEventListener('click', () => clearInterval(tick));
  </script>
</body>
</html>
